<div class="hub-container">
  <header class="hub-header">
    <h1>Welcome, {{ user.name }}!</h1>
    <p>Stay updated with the latest activities and notifications on ProjectXF Hub.</p>
  </header>

  <nav class="navbar">
    <a class="nav-link" href="#profile">
      <i class="fas fa-user"></i> Profile
    </a>
    <a class="nav-link" href="#feed">
      <i class="fas fa-stream"></i> Feed
    </a>
    <a class="nav-link" href="#activity">
      <i class="fas fa-chart-line"></i> Activity
    </a>
    <a class="nav-link" href="#notifications">
      <i class="fas fa-bell"></i> Notifications
    </a>
    <a class="nav-link" href="#chat">
      <i class="fas fa-comments"></i> Chat
    </a>
  </nav>

  <div class="hub-details">
    <section id="profile" class="hub-card">
      <img [src]="user.avatar || 'assets/default-avatar.png'" alt="Profile" class="avatar">
      <h2>{{ user.name }}</h2>
      <p>{{ user.bio }}</p>
      <p>{{ user.location }}</p>
      <a [href]="user.website" target="_blank">{{ user.website }}</a>
    </section>

    <section id="feed" class="hub-card">
      <h2>Activity Feed</h2>
      <div *ngFor="let item of feed" class="feed-item">
        <p>{{ item.content }}</p>
        <small>{{ item.timestamp }}</small>
      </div>
    </section>

    <section id="activity" class="hub-card">
      <h2>User Activity</h2>
      <canvas id="activityChart"></canvas>
    </section>

    <section id="notifications" class="hub-card">
      <h2>Notifications</h2>
      <ul>
        <li *ngFor="let notification of notifications" (click)="showNotificationDetails(notification)">
          {{ notification }}
        </li>
      </ul>
    </section>

    <section id="chat" class="hub-card">
      <h2>Chat</h2>
      <div class="chat-messages">
        <div *ngFor="let message of chatMessages" class="chat-message">
          <strong>{{ message.user }}:</strong> {{ message.text }}
          <small>{{ message.timestamp }}</small>
        </div>
      </div>
      <div class="chat-input-wrapper">
        <input type="text" [(ngModel)]="newMessage" 
               placeholder="Type a message..."
               (keyup.enter)="sendMessage()">
        <button (click)="sendMessage()">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </section>
  </div>

  <div id="notificationModal" class="modal">
    <div class="modal-content">
      <span class="close" (click)="closeNotificationModal()">&times;</span>
      <p>{{ selectedNotification }}</p>
    </div>
  </div>

  <div *ngIf="isLoading" class="loading-spinner">
    <i class="fas fa-spinner fa-spin"></i>
  </div>
</div>
